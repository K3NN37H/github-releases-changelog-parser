function H(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}var f=H,d=x,m;typeof window!="undefined"?m=window:typeof self!="undefined"?m=self:m={},typeof m.setTimeout=="function"&&(f=setTimeout),typeof m.clearTimeout=="function"&&(d=clearTimeout);function L(e){if(f===setTimeout)return setTimeout(e,0);if((f===H||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(r){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function pe(e){if(d===clearTimeout)return clearTimeout(e);if((d===x||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(r){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}var l=[],v=!1,h,S=-1;function ge(){!v||!h||(v=!1,h.length?l=h.concat(l):S=-1,l.length&&F())}function F(){if(!v){var e=L(ge);v=!0;for(var r=l.length;r;){for(h=l,l=[];++S<r;)h&&h[S].run();S=-1,r=l.length}h=null,v=!1,pe(e)}}function me(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];l.push(new V(e,r)),l.length===1&&!v&&L(F)}function V(e,r){this.fun=e,this.array=r}V.prototype.run=function(){this.fun.apply(null,this.array)};var ve="browser",be="browser",we=!0,ye=[],Te="",Ee={},je={},Ae={};function p(){}var Oe=p,Se=p,$e=p,ke=p,qe=p,Re=p,Ne=p;function Ue(e){throw new Error("process.binding is not supported")}function De(){return"/"}function _e(e){throw new Error("process.chdir is not supported")}function Ce(){return 0}var b=m.performance||{},Ie=b.now||b.mozNow||b.msNow||b.oNow||b.webkitNow||function(){return new Date().getTime()};function Pe(e){var r=Ie.call(b)*.001,t=Math.floor(r),n=Math.floor(r%1*1e9);return e&&(t=t-e[0],n=n-e[1],n<0&&(t--,n+=1e9)),[t,n]}var He=new Date;function xe(){var e=new Date,r=e-He;return r/1e3}var E={nextTick:me,title:ve,browser:we,env:{NODE_ENV:"production"},argv:ye,version:Te,versions:Ee,on:Oe,addListener:Se,once:$e,off:ke,removeListener:qe,removeAllListeners:Re,emit:Ne,binding:Ue,cwd:De,chdir:_e,umask:Ce,hrtime:Pe,platform:be,release:je,config:Ae,uptime:xe};function $(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof E=="object"&&"version"in E?`Node.js/${E.version.substr(1)} (${E.platform}; ${E.arch})`:"<environment undetectable>"}var G=B;function B(e,r,t,n){if(typeof t!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(r)?r.reverse().reduce(function(i,a){return B.bind(null,e,a,i,n)},t)():Promise.resolve().then(function(){return e.registry[r]?e.registry[r].reduce(function(i,a){return a.hook.bind(null,i,n)},t)():t(n)})}var Le=Fe;function Fe(e,r,t,n){var i=n;e.registry[t]||(e.registry[t]=[]),r==="before"&&(n=function(a,o){return Promise.resolve().then(i.bind(null,o)).then(a.bind(null,o))}),r==="after"&&(n=function(a,o){var s;return Promise.resolve().then(a.bind(null,o)).then(function(c){return s=c,i(s,o)}).then(function(){return s})}),r==="error"&&(n=function(a,o){return Promise.resolve().then(a.bind(null,o)).catch(function(s){return i(s,o)})}),e.registry[t].push({hook:n,orig:i})}var Ve=Ge;function Ge(e,r,t){if(!!e.registry[r]){var n=e.registry[r].map(function(i){return i.orig}).indexOf(t);n!==-1&&e.registry[r].splice(n,1)}}var z=Function.bind,W=z.bind(z);function M(e,r,t){var n=W(Ve,null).apply(null,t?[r,t]:[r]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(i){var a=t?[r,i,t]:[r,i];e[i]=e.api[i]=W(Le,null).apply(null,a)})}function Be(){var e="h",r={registry:{}},t=G.bind(null,r,e);return M(t,r,e),t}function X(){var e={registry:{}},r=G.bind(null,e);return M(r,e),r}var J=!1;function w(){return J||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),J=!0),X()}w.Singular=Be.bind(),w.Collection=X.bind();var R=w,ze=w,We=w.Singular,Q=w.Collection;R.Hook=ze,R.Singular=We,R.Collection=Q;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function K(e){return Object.prototype.toString.call(e)==="[object Object]"}function Z(e){var r,t;return K(e)===!1?!1:(r=e.constructor,r===void 0?!0:(t=r.prototype,!(K(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function Me(e){return e?Object.keys(e).reduce((r,t)=>(r[t.toLowerCase()]=e[t],r),{}):{}}function Y(e,r){const t=Object.assign({},e);return Object.keys(r).forEach(n=>{Z(r[n])?n in e?t[n]=Y(e[n],r[n]):Object.assign(t,{[n]:r[n]}):Object.assign(t,{[n]:r[n]})}),t}function ee(e){for(const r in e)e[r]===void 0&&delete e[r];return e}function N(e,r,t){if(typeof r=="string"){let[i,a]=r.split(" ");t=Object.assign(a?{method:i,url:a}:{url:i},t)}else t=Object.assign({},r);t.headers=Me(t.headers),ee(t),ee(t.headers);const n=Y(e||{},t);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}function Xe(e,r){const t=/\?/.test(e)?"&":"?",n=Object.keys(r);return n.length===0?e:e+t+n.map(i=>i==="q"?"q="+r.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(r[i])}`).join("&")}const Je=/\{[^}]+\}/g;function Qe(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Ke(e){const r=e.match(Je);return r?r.map(Qe).reduce((t,n)=>t.concat(n),[]):[]}function re(e,r){return Object.keys(e).filter(t=>!r.includes(t)).reduce((t,n)=>(t[n]=e[n],t),{})}function te(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(r){return/%[0-9A-Fa-f]/.test(r)||(r=encodeURI(r).replace(/%5B/g,"[").replace(/%5D/g,"]")),r}).join("")}function y(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}function j(e,r,t){return r=e==="+"||e==="#"?te(r):y(r),t?y(t)+"="+r:r}function T(e){return e!=null}function U(e){return e===";"||e==="&"||e==="?"}function Ze(e,r,t,n){var i=e[t],a=[];if(T(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),a.push(j(r,i,U(r)?t:""));else if(n==="*")Array.isArray(i)?i.filter(T).forEach(function(o){a.push(j(r,o,U(r)?t:""))}):Object.keys(i).forEach(function(o){T(i[o])&&a.push(j(r,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(T).forEach(function(s){o.push(j(r,s))}):Object.keys(i).forEach(function(s){T(i[s])&&(o.push(y(s)),o.push(j(r,i[s].toString())))}),U(r)?a.push(y(t)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else r===";"?T(i)&&a.push(y(t)):i===""&&(r==="&"||r==="?")?a.push(y(t)+"="):i===""&&a.push("");return a}function Ye(e){return{expand:er.bind(null,e)}}function er(e,r){var t=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,a){if(i){let s="";const c=[];if(t.indexOf(i.charAt(0))!==-1&&(s=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(O){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(O);c.push(Ze(r,s,u[1],u[2]||u[3]))}),s&&s!=="+"){var o=",";return s==="?"?o="&":s!=="#"&&(o=s),(c.length!==0?s:"")+c.join(o)}else return c.join(",")}else return te(a)})}function ne(e){let r=e.method.toUpperCase(),t=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),i,a=re(e,["method","baseUrl","url","headers","request","mediaType"]);const o=Ke(t);t=Ye(t).expand(a),/^http/.test(t)||(t=e.baseUrl+t);const s=Object.keys(e).filter(u=>o.includes(u)).concat("baseUrl"),c=re(a,s);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const u=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=u.concat(e.mediaType.previews).map(de=>{const he=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${de}-preview${he}`}).join(",")}return["GET","HEAD"].includes(r)?t=Xe(t,c):"data"in c?i=c.data:Object.keys(c).length?i=c:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(r)&&typeof i=="undefined"&&(i=""),Object.assign({method:r,url:t,headers:n},typeof i!="undefined"?{body:i}:null,e.request?{request:e.request}:null)}function rr(e,r,t){return ne(N(e,r,t))}function ie(e,r){const t=N(e,r),n=rr.bind(null,t);return Object.assign(n,{DEFAULTS:t,defaults:ie.bind(null,t),merge:N.bind(null,t),parse:ne})}const tr="6.0.12",nr=`octokit-endpoint.js/${tr} ${$()}`,ir={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":nr},mediaType:{format:"",previews:[]}},or=ie(null,ir);var ar=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof g!="undefined")return g;throw new Error("unable to locate global object")},g=ar(),sr=g.fetch.bind(g);const kr=g.Headers,qr=g.Request,Rr=g.Response;class oe extends Error{constructor(r){super(r);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var ae=se;function se(e,r){if(e&&r)return se(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){t[n]=e[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=e.apply(this,n),o=n[n.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(s){a[s]=o[s]}),a}}var D=ae(k),cr=ae(ce);k.proto=k(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return k(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ce(this)},configurable:!0})});function k(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function ce(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},t=e.name||"Function wrapped with `once`";return r.onceError=t+" shouldn't be called more than once",r.called=!1,r}D.strict=cr;const ur=D(e=>console.warn(e)),lr=D(e=>console.warn(e));class A extends Error{constructor(r,t,n){super(r);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);const a=Object.assign({},n.request);n.request.headers.authorization&&(a.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a,Object.defineProperty(this,"code",{get(){return ur(new oe("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),Object.defineProperty(this,"headers",{get(){return lr(new oe("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}const fr="5.6.2";function dr(e){return e.arrayBuffer()}function ue(e){const r=e.request&&e.request.log?e.request.log:console;(Z(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let t={},n,i;return(e.request&&e.request.fetch||sr)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async o=>{i=o.url,n=o.status;for(const s of o.headers)t[s[0]]=s[1];if("deprecation"in t){const s=t.link&&t.link.match(/<([^>]+)>; rel="deprecation"/),c=s&&s.pop();r.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${t.sunset}${c?`. See ${c}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new A(o.statusText,n,{response:{url:i,status:n,headers:t,data:void 0},request:e})}if(n===304)throw new A("Not modified",n,{response:{url:i,status:n,headers:t,data:await _(o)},request:e});if(n>=400){const s=await _(o);throw new A(hr(s),n,{response:{url:i,status:n,headers:t,data:s},request:e})}return _(o)}}).then(o=>({status:n,url:i,headers:t,data:o})).catch(o=>{throw o instanceof A?o:new A(o.message,500,{request:e})})}async function _(e){const r=e.headers.get("content-type");return/application\/json/.test(r)?e.json():!r||/^text\/|charset=utf-8$/.test(r)?e.text():dr(e)}function hr(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function C(e,r){const t=e.defaults(r);return Object.assign(function(i,a){const o=t.merge(i,a);if(!o.request||!o.request.hook)return ue(t.parse(o));const s=(c,O)=>ue(t.parse(t.merge(c,O)));return Object.assign(s,{endpoint:t,defaults:C.bind(null,t)}),o.request.hook(s,o)},{endpoint:t,defaults:C.bind(null,t)})}const q=C(or,{headers:{"user-agent":`octokit-request.js/${fr} ${$()}`}}),pr="4.8.0";function gr(e){return`Request failed due to following response errors:
`+e.errors.map(r=>` - ${r.message}`).join(`
`)}class mr extends Error{constructor(r,t,n){super(gr(n));this.request=r,this.headers=t,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const vr=["method","baseUrl","url","headers","request","query","mediaType"],br=["query","method","url"],le=/\/api\/v3\/?$/;function wr(e,r,t){if(t){if(typeof r=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in t)if(!!br.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const n=typeof r=="string"?Object.assign({query:r},t):r,i=Object.keys(n).reduce((o,s)=>vr.includes(s)?(o[s]=n[s],o):(o.variables||(o.variables={}),o.variables[s]=n[s],o),{}),a=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return le.test(a)&&(i.url=a.replace(le,"/api/graphql")),e(i).then(o=>{if(o.data.errors){const s={};for(const c of Object.keys(o.headers))s[c]=o.headers[c];throw new mr(i,s,o.data)}return o.data.data})}function I(e,r){const t=e.defaults(r);return Object.assign((i,a)=>wr(t,i,a),{defaults:I.bind(null,t),endpoint:q.endpoint})}const Nr=I(q,{headers:{"user-agent":`octokit-graphql.js/${pr} ${$()}`},method:"POST",url:"/graphql"});function yr(e){return I(e,{method:"POST",url:"/graphql"})}const Tr=/^v1\./,Er=/^ghs_/,jr=/^ghu_/;async function Ar(e){const r=e.split(/\./).length===3,t=Tr.test(e)||Er.test(e),n=jr.test(e);return{type:"token",token:e,tokenType:r?"app":t?"installation":n?"user-to-server":"oauth"}}function Or(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Sr(e,r,t,n){const i=r.endpoint.merge(t,n);return i.headers.authorization=Or(e),r(i)}const $r=function(r){if(!r)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof r!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return r=r.replace(/^(token|bearer) +/i,""),Object.assign(Ar.bind(null,r),{hook:Sr.bind(null,r)})},fe="3.5.1";class P{constructor(r={}){const t=new Q,n={baseUrl:q.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},r.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[r.userAgent,`octokit-core.js/${fe} ${$()}`].filter(Boolean).join(" "),r.baseUrl&&(n.baseUrl=r.baseUrl),r.previews&&(n.mediaType.previews=r.previews),r.timeZone&&(n.headers["time-zone"]=r.timeZone),this.request=q.defaults(n),this.graphql=yr(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},r.log),this.hook=t,r.authStrategy){const{authStrategy:a,...o}=r,s=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},r.auth));t.wrap("request",s.hook),this.auth=s}else if(!r.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=$r(r.auth);t.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,r))})}static defaults(r){return class extends this{constructor(...n){const i=n[0]||{};if(typeof r=="function"){super(r(i));return}super(Object.assign({},r,i,i.userAgent&&r.userAgent?{userAgent:`${i.userAgent} ${r.userAgent}`}:null))}}}static plugin(...r){var t;const n=this.plugins;return t=class extends this{},t.plugins=n.concat(r.filter(a=>!n.includes(a))),t}}P.VERSION=fe,P.plugins=[];export{P as Octokit};
